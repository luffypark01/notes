### P101 - vue-resource

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰å®‰è£…æŒ‡ä»¤ï¼šnpm i vue-resource

ï¼ˆ2ï¼‰è¿™ä¸ªåº“å®˜æ–¹å·²ä¸ç»´æŠ¤ï¼Œè½¬äº¤çš„å›¢é˜Ÿç»´æŠ¤é¢‘ç‡ä½ï¼Œä»…å½“äº†è§£ï¼Œæœ€å¥½è¿˜æ˜¯ä½¿ç”¨axiosã€‚

### - P102 - é»˜è®¤æ’æ§½

ï¼ˆæ€»ç»“åœ¨P104ï¼‰æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

App.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="container">
        <Category title="ç¾é£Ÿ">
            <img src="https://s3.ax1x.com/2021/01/16/srJlq0.jpg" alt=""/>
        </Category>
 
        <Category title="æ¸¸æˆ">
            <ul>
                <li v-for="(g,index) in games" :key="index">{{g}}</li>
            </ul>
        </Category>
        
        <Category title="ç”µå½±">
            <video controls src="http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"></video>
        </Category>
    </div>
</template>
 
<script>
import Category from './components/Category.vue';
export default {
    name: "App",
    components: { Category },
    data() {
        return {
            foods:['ç«é”…','çƒ§çƒ¤','å°é¾™è™¾','ç‰›æ’'],
            games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'],
            films:['ã€Šæ•™çˆ¶ã€‹','ã€Šæ‹†å¼¹ä¸“å®¶ã€‹','ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹','ã€Šå°šç¡…è°·ã€‹']
        }
    },
}
</script>
 
<style>
.container{
    display: flex;
    justify-content: space-around;
}
img{
    width: 100%;
}
video{
    width: 100%;
}
</style>
```

Category.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="category">
        <h3>{{title}}åˆ†ç±»</h3>
        <!-- å®šä¹‰ä¸€ä¸ªæ’æ§½ï¼ˆæŒ–ä¸ªå‘ï¼Œç­‰ç€ç»„ä»¶çš„ä½¿ç”¨è€…è¿›è¡Œå¡«å……ï¼‰ -->
        <slot>æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶ï¼Œæˆ‘ä¼šå‡ºç°</slot>
        <!-- 
         -->
    </div>
</template>
 
<script>
export default {
    name:'Category',
    props:['title']
}
</script>
 
<style scoped>
.category{
    background-color: skyblue;
    width: 200px;
    height: 300px;
}
h3{
    text-align: center;
    background-color: orange;
}
 
</style>
```

### **- P103 - å…·åæ’æ§½**

ï¼ˆæ€»ç»“åœ¨P104ï¼‰æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

App.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="container">
        <Category title="ç¾é£Ÿ">
            <img slot="center" src="https://s3.ax1x.com/2021/01/16/srJlq0.jpg" alt=""/>
            <a slot="footer" href="http://www.atguigu.com">æ›´å¤šç¾é£Ÿ</a>
        </Category>
 
        <Category title="æ¸¸æˆ">
            <ul slot="center">
                <li v-for="(g,index) in games" :key="index">{{g}}</li>
            </ul>
            <div class="foot" slot="footer">
                <a href="http://www.atguigu.com">å•æœºæ¸¸æˆ</a>
                <a href="http://www.atguigu.com">ç½‘ç»œæ¸¸æˆ</a>
            </div>
        </Category>
 
        <Category title="ç”µå½±">
            <video slot="center" controls src="http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"></video>
            <template v-slot:footer>
                <div class="foot">
                    <a href="http://www.atguigu.com">ç»å…¸</a>
                    <a href="http://www.atguigu.com">çƒ­é—¨</a>
                    <a href="http://www.atguigu.com">æ¨è</a>
                </div>
                <h4>æ¬¢è¿å‰æ¥è§‚å½±</h4>
            </template>
        </Category>
    </div>
</template>
 
<script>
import Category from './components/Category.vue';
export default {
    name: "App",
    components: { Category },
    data() {
        return {
            foods:['ç«é”…','çƒ§çƒ¤','å°é¾™è™¾','ç‰›æ’'],
            games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'],
            films:['ã€Šæ•™çˆ¶ã€‹','ã€Šæ‹†å¼¹ä¸“å®¶ã€‹','ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹','ã€Šå°šç¡…è°·ã€‹']
        }
    },
}
</script>
 
<style>
.container,.foot{
    display: flex;
    justify-content: space-around;
}
img{
    width: 100%;
}
video{
    width: 100%;
}
h4{
    text-align: center;
}
</style>
```

Category.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="category">
        <h3>{{title}}åˆ†ç±»</h3>
        <!-- å®šä¹‰ä¸€ä¸ªæ’æ§½ï¼ˆæŒ–ä¸ªå‘ï¼Œç­‰ç€ç»„ä»¶çš„ä½¿ç”¨è€…è¿›è¡Œå¡«å……ï¼‰ -->
        <slot name="center">æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶ï¼Œæˆ‘ä¼šå‡ºç°1</slot>
        <slot name="footer">æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶ï¼Œæˆ‘ä¼šå‡ºç°2</slot>
    </div>
</template>
 
<script>
export default {
    name:'Category',
    props:['title']
}
</script>
 
<style scoped>
.category{
    background-color: skyblue;
    width: 200px;
    height: 300px;
}
h3{
    text-align: center;
    background-color: orange;
}
 
</style>
```

### - P104 - ä½œç”¨åŸŸæ’æ§½

**è€å¸ˆæ€»ç»“ï¼š**

æ’æ§½ï¼š

1.ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº çˆ¶ç»„ä»¶ ===>å­ç»„ä»¶ã€‚

2.åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½ã€‚

3.ä½¿ç”¨æ–¹å¼ï¼š

ï¼ˆ1ï¼‰é»˜è®¤æ’æ§½ï¼š

```xml
çˆ¶ç»„ä»¶ä¸­ï¼š
    <Category>
        <div>htmlç»“æ„1</div>
    </Category>
å­ç»„ä»¶ä¸­ï¼š
    <template>
        <div>
            <!-- å®šä¹‰æ’æ§½ -->
            <slot>æ’æ§½é»˜è®¤å†…å®¹...</slot>
        </div>
    </template>
```

ï¼ˆ2ï¼‰å…·åæ’æ§½ï¼š

```xml
çˆ¶ç»„ä»¶ä¸­ï¼š
    <Category>
        <template slot="footer">
            <div>htmlç»“æ„1</div>
        </template>
    </Category>
    <Category>
        <template v-slot:footer>
            <div>htmlç»“æ„2</div>
        </template>
    </Category>
å­ç»„ä»¶ä¸­ï¼š
    <template>
        <div>
            <!-- å®šä¹‰æ’æ§½ -->
            <slot name="center">æ’æ§½é»˜è®¤å†…å®¹...</slot>
            <slot name="footer">æ’æ§½é»˜è®¤å†…å®¹...</slot>
        </div>
    </template>
```

ï¼ˆ3ï¼‰ä½œç”¨åŸŸæ’æ§½ï¼š

â‘ ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgamesæ•°æ®åœ¨Categoryç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appç»„ä»¶å†³å®šï¼‰

â‘¡å…·ä½“ç¼–ç ï¼š

```handlebars
çˆ¶ç»„ä»¶ä¸­ï¼š
    <Category>
        <template scope="scopeData">
            <!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ -->
            <ul>
                <li v-for="g in scopeData.games" :key="g">{{g}}</li>
            </ul>
        </template>
    </Category>
    <Category>
        <template scope="{games}">
            <!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ -->
            <h4 v-for="g in games" :key="g">{{g}}</h4>
        </template>
    </Category>
å­ç»„ä»¶ä¸­ï¼š
    <template>
        <div>
            <slot :games="games"></slot>
        </div>
    </template>
    
    <script>
    export default {
        name:'Category',
        //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«
        data() {
            return {
                games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'],
            }
        },
    }
    </script>
```

æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

App.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="container">
        <Category title="æ¸¸æˆ">
            <template scope="atguigu">
                <ul>
                    <li v-for="(g,index) in atguigu.games" :key="index">{{g}}</li>
                </ul>
            </template>
        </Category>
        <Category title="æ¸¸æˆ">
            <template scope="{games}">
                <ol>
                    <li v-for="(g,index) in games" :key="index">{{g}}</li>
                </ol>
            </template>
        </Category>
        <Category title="æ¸¸æˆ">
            <template scope="{games}">
                <h4 v-for="(g,index) in games" :key="index">{{g}}</h4>
            </template>
        </Category>
    </div>
</template>
 
<script>
import Category from './components/Category.vue';
export default {
    name: "App",
    components: { Category }
}
</script>
 
<style>
.container,.foot{
    display: flex;
    justify-content: space-around;
}
img{
    width: 100%;
}
video{
    width: 100%;
}
h4{
    text-align: center;
}
</style>
```

Category.vueé¡µé¢ï¼š

```handlebars
<template>
    <div class="category">
        <h3>{{title}}åˆ†ç±»</h3>
            <slot :games="games">æˆ‘æ˜¯é»˜è®¤çš„ä¸€äº›å†…å®¹</slot>
    </div>
</template>
 
<script>
export default {
    name:'Category',
    props:['title'],
    data() {
        return {
            games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'],
        }
    },
}
</script>
 
<style scoped>
.category{
    background-color: skyblue;
    width: 200px;
    height: 300px;
}
h3{
    text-align: center;
    background-color: orange;
}
 
</style>
```

### - P105 - Vuexç®€ä»‹

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰è€å¸ˆçš„è¯¾ä»¶å›¾ï¼š

![img](https://img-blog.csdnimg.cn/d2fdfd5fa9a94829951aa6bba6ff2a6b.png)

![img](https://img-blog.csdnimg.cn/24eff8f1fd834c5fb7361adf234f3b84.png)

**è€å¸ˆæ€»ç»“ï¼š**

vuexæ˜¯ä»€ä¹ˆï¼š

1.æ¦‚å¿µï¼šä¸“é—¨åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹Vueåº”ç”¨ä¸­å¯¹å„ç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚

2.Githubåœ°å€ï¼š[GitHub - vuejs/vuex: ğŸ—ƒï¸ Centralized State Management for Vue.js.](https://github.com/vuejs/vuex)

ä»€ä¹ˆæ—¶å€™ç”¨Vuexï¼š

1.å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€

2.æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€

### - P106 - æ±‚å’Œæ¡ˆä¾‹_çº¯vueç‰ˆ

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰å…³äºselectçš„optionå€¼é—®é¢˜ï¼š

ä¸ºä»€ä¹ˆvalueå‰é¢åŠ å†’å·æœ‰æ•ˆï¼Ÿä¸åŠ å°±æ˜¯å­—ç¬¦ä¸²ã€‚åŠ ä¸Šå†’å·ä¹‹åï¼Œå¼•å·é‡Œçš„å†…å®¹éƒ½ä¼šå½“æˆJSè¡¨è¾¾å¼å»åˆ†æï¼Œå°±å˜æˆäº†æ•°å­—ã€‚

æœ€å¥½çš„åšæ³•è¿˜æ˜¯åœ¨v-modelä¸­åŠ numberä¿®é¥°ç¬¦ã€‚ä½†æ˜¯ä¸Šé¢é‚£ä¸ªæ–¹æ³•ä¹Ÿè¦æ¸…æ¥šã€‚

æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

Count.vueé¡µé¢ï¼š

```handlebars
<template>
    <div>
        <h1>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h1>
        <select v-model.number="n">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
        <button @click="increment">+</button>
        <button @click="decrement">-</button>
        <button @click="incrementOdd">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
        <button @click="incrementWait">ç­‰ä¸€ç­‰å†åŠ </button>
    </div>
</template>
 
<script>
export default {
    name:'Count',
    data() {
        return {
            n:1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—
            sum:0 //å½“å‰çš„å’Œ
        }
    },
    methods: {
        increment(){
            this.sum += this.n
        },
        decrement(){
            this.sum -= this.n
        },
        incrementOdd(){
            if(this.sum % 2){
                this.sum += this.n
            }
        },
        incrementWait(){
            setTimeout(() => {
                this.sum += this.n
            }, 500);
        }
    },
}
</script>
 
<style scoped>
button{
    margin-left: 5px;
}
 
</style>
```

### - P107 - Vuexå·¥ä½œåŸç†å›¾

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰å›¾ï¼š

![img](https://img-blog.csdnimg.cn/e67547c2b08a4a4cbf96c7894e12c3f9.png)

ï¼ˆ2ï¼‰å›¾æ€»æµç¨‹ç®€è¿°ï¼š

â‘ Stateï¼šæŠŠæ•°æ®äº¤ç»™Vuexå…¶å®å°±æ˜¯æŠŠæ•°æ®äº¤ç»™Vuexä¸­çš„stateã€‚è¿™ä¸ªstateçš„æœ¬è´¨å°±æ˜¯Objectå¯¹è±¡ï¼ˆæœ¬èŠ‚çš„ä¾‹å­æ˜¯{ ... sum:0 }ï¼‰ã€‚

â‘¡Vue Componentsï¼šæŠŠæ•°æ®é€’ç»™Vueç»„ä»¶ã€‚åœ¨ç»„ä»¶ä¸­è°ƒç”¨APIï¼Œä¸ºdispatchã€‚

dispatchåœ¨è°ƒç”¨çš„æ—¶å€™éœ€è¦ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯åŠ¨ä½œç±»å‹å’Œå€¼ï¼ˆå¦‚dispatch( 'jia',2 )ï¼‰ã€‚

â‘¢Actionsï¼šæœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªObjectå¯¹è±¡ã€‚

åœ¨è°ƒç”¨äº†dispatchä¹‹åï¼ŒActionsé‡Œé¢ä¸€å®šä¼šæœ‰ä¸€ä¸ªkeyï¼Œå’Œè¯¥åŠ¨ä½œå¯¹åº”ï¼ˆå¦‚{ ... jia:function }ï¼‰ã€‚

è¿™ä¸ªå‡½æ•°ä¸€æ—¦è¢«è°ƒç”¨ï¼Œå°±ä¼šæ”¶åˆ°dispatchä¼ çš„å€¼ï¼ˆå¦‚2ï¼‰ã€‚

åœ¨è¿™ä¸ªå¯¹åº”çš„å‡½æ•°ä¸­ï¼Œè‡ªå·±è°ƒç”¨commitï¼ˆå¦‚commit( 'jia',2 )ï¼‰ã€‚æäº¤åç»§ç»­å¾€ä¸‹èµ°ã€‚

â‘£Mutationsï¼šæ•°æ®ç±»å‹ä¹Ÿæ˜¯ä¸€ä¸ªObjectå¯¹è±¡ã€‚

å…¶ä¸­ä¹Ÿä¼šæœ‰å¾ˆå¤škey valueï¼Œä½†æ˜¯è‚¯å®šä¼šæœ‰ä¹‹å‰ä¼ å…¥çš„åŠ¨ä½œï¼ˆå¦‚{ ... jia:function }ï¼‰ã€‚

è¿™ä¸ªå‡½æ•°ä¼šæ‹¿åˆ°ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯æ•´ä¸ªstateï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯ä¼ è¿‡æ¥çš„å€¼ï¼ˆå¦‚2ï¼‰ã€‚åªè¦å‡½æ•°ä¸­å†™äº†â€œ state.sum += 2 â€ï¼Œé‚£ä¹ˆMutateå°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚

â‘¤å†åˆ°Stateï¼šæœ€åStateä¸­çš„å€¼å˜äº†ï¼ˆå¦‚{ ... sum:2}ï¼‰ã€‚é€šè¿‡Renderé‡æ–°æ¸²æŸ“ä¼ ç»™ç»„ä»¶ã€‚

ï¼ˆ3ï¼‰å›¾å…¶å®ƒè§£æï¼š

â‘ ä¸ºä»€ä¹ˆéœ€è¦Actionsï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼ ç»™Mutationsæ¥Mutateï¼Ÿ

Actionså¯¹æ¥Backend APIï¼ˆåç«¯æ¥å£ï¼‰ï¼Œå®ƒæ˜¯ç”¨æ¥æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„ã€‚

â‘¡å¦‚æœå·²ç»æœ‰äº†æ•°æ®çš„è¯ï¼Œå®˜æ–¹æ˜¯å…è®¸Vue Componentsç›´æ¥Commitç»™Mutationsçš„ã€‚

â‘¢Devtoolsæ˜¯vuexå®˜æ–¹å¼€å‘çš„æµè§ˆå™¨æ’ä»¶ã€‚

â‘£å›¾ä¸­æ²¡ç”»å‡ºæ¥çš„æ˜¯ï¼ŒVuexä¸­çš„Actionsã€Mutationsã€Stateéƒ½éœ€è¦ç»è¿‡storeç®¡ç†ã€‚dispatchã€commitéƒ½æ˜¯ç”±storeæä¾›çš„ã€‚

ï¼ˆ4ï¼‰è€å¸ˆçš„æ¯”å–»ï¼ŒåŠ©ç†è§£ï¼š

Vue Componentsæ˜¯å®¢äººï¼ŒActionsæ˜¯æœåŠ¡å‘˜ï¼ŒMutationsæ˜¯åå¨å›¢é˜Ÿï¼ŒStateå°±æ˜¯æœ€ç»ˆä¸Šçš„èœã€‚

å®¢äººå¼ å˜´è¯´è¯å°±æ˜¯dispatchï¼Œå®¢äººç‚¹å•è›‹ç‚’é¥­ä¸€ä»½ï¼Œå°±ç›¸å½“äºdispatch( 'jia',2 )ã€‚

æœåŠ¡å‘˜æ”¶åˆ°åï¼Œå°†å…·ä½“çš„å•äº¤ç»™åå¨å›¢é˜Ÿå°±æ˜¯commitã€‚

åå¨æ”¶åˆ°èœå•ååšèœå°±æ˜¯Mutateã€‚

æœ€ååšå‡ºèœStatueï¼Œç»™å®¢äººä¸Šèœã€‚

å¦‚æœå®¢äººè·Ÿåå¨å¾ˆç†Ÿï¼ˆä¸éœ€è¦æœåŠ¡å‘˜çš„èœå•Backend APIè°ƒç”¨æ•°æ®ï¼‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è·³è¿‡æœåŠ¡å‘˜Actionsï¼Œè·Ÿåå¨è®²ä¸€ä¸‹ï¼Œä¸Šèœå°±å¥½äº†ã€‚

### - P108 - æ­å»ºVuexç¯å¢ƒ

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰Vuexå®‰è£…æŒ‡ä»¤ï¼šnpm i vuex@3

ï¼ˆå¦‚æœç›´æ¥npm i vuexï¼Œé‚£ä¹ˆå®‰è£…çš„æ˜¯vuex4ï¼Œåªèƒ½åœ¨Vue3ä¸­ä½¿ç”¨ï¼‰

**è€å¸ˆæ€»ç»“ï¼š**

æ­å»ºvuexç¯å¢ƒ

1.åˆ›å»ºæ–‡ä»¶ï¼šsrc/store/index.js

```pf
// å¼•å…¥Vueæ ¸å¿ƒåº“
import Vue from 'vue'
// å¼•å…¥Vuex
import Vuex from 'vuex'
// åº”ç”¨Vuexæ’ä»¶
Vue.use(Vuex)
 
// å‡†å¤‡actionså¯¹è±¡â€”â€”ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
const actions = {}
// å‡†å¤‡mutationså¯¹è±¡â€”â€”ç”¨äºæ“ä½œæ•°æ®ï¼ˆstateï¼‰
const mutations = {}
// å‡†å¤‡stateå¯¹è±¡â€”â€”ç”¨äºå­˜å‚¨æ•°æ®
const state = {}
 
// åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
    actions,mutations,state
})
```

2.åœ¨main.jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹

```asciidoc
......
// å¼•å…¥store
import store from './store'
......
 
// åˆ›å»ºvm
new Vue({
    el:'#app',
    render: h => h(App),
    store
})
```

### - P109 - æ±‚å’Œæ¡ˆä¾‹_vuexç‰ˆ

æ— 

æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

store.jsé¡µé¢ï¼š

```pf
// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store
// å¼•å…¥Vue
import Vue from 'vue'
// å¼•å…¥Vuex
import Vuex from 'vuex'
// åº”ç”¨Vuexæ’ä»¶
Vue.use(Vuex)
 
// å‡†å¤‡actionsâ€”â€”ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
const actions = {
    /* jia(context,value){
        // console.log('actionsä¸­çš„jiaè¢«è°ƒç”¨äº†',context,value)
        context.commit('JIA',value)
    },
    jian(context,value){
        // console.log('actionsä¸­çš„jianè¢«è°ƒç”¨äº†',context,value)
        context.commit('JIAN',value)
    }, */
    jiaOdd(context,value){
        if(context.state.sum % 2){
            context.commit('JIA',value)
        }
    },
    jiaWait(context,value){
        setTimeout(() =>{
            context.commit('JIA',value)
        },500)
    },
}
// å‡†å¤‡mutationsâ€”â€”ç”¨äºæ“ä½œæ•°æ®ï¼ˆstateï¼‰
const mutations = {
    JIA(state,value){
        // console.log('mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†',state,value)
        state.sum += value
    },
    JIAN(state,value){
        // console.log('mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†',state,value)
        state.sum -= value
    }
 
}
// å‡†å¤‡stateâ€”â€”ç”¨äºå­˜å‚¨æ•°æ®
const state = {
    sum:0 //å½“å‰çš„å’Œ
}
 
// åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
    actions,mutations,state
})
```

Count.vueé¡µé¢ï¼š

```handlebars
<template>
    <div>
        <h1>å½“å‰æ±‚å’Œä¸ºï¼š{{$store.state.sum}}</h1>
        <select v-model.number="n">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
        <button @click="increment">+</button>
        <button @click="decrement">-</button>
        <button @click="incrementOdd">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
        <button @click="incrementWait">ç­‰ä¸€ç­‰å†åŠ </button>
    </div>
</template>
 
<script>
export default {
    name:'Count',
    data() {
        return {
            n:1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—
            
        }
    },
    methods: {
        increment(){
            this.$store.commit('JIA',this.n)
        },
        decrement(){
            this.$store.commit('JIAN',this.n)
        },
        incrementOdd(){
            this.$store.dispatch('jiaOdd',this.n)
        },
        incrementWait(){
            setTimeout(() => {
                this.$store.dispatch('jiaWait',this.n)
            }, 500);
        }
    },
}
</script>
 
<style scoped>
button{
    margin-left: 5px;
}
 
</style>
```

### - P110 - vuexå¼€å‘è€…å·¥å…·çš„ä½¿ç”¨

è¯¾å ‚ç¬”è®°ï¼š

ï¼ˆ1ï¼‰vueæ§åˆ¶å°åˆ‡æ¢ï¼š

è€å¸ˆè§†é¢‘é‡Œæ˜¯è¿™æ ·çš„ï¼š

![img](https://img-blog.csdnimg.cn/4f4e3333cde3404c8ace904d43343097.png)

æˆ‘è¿™é‡Œçš„æ›´æ–°äº†ï¼Œå’Œè€å¸ˆçš„ä¸ä¸€æ ·ï¼Œç›´æ¥é€‰è¿™ä¸ªï¼š

![img](https://img-blog.csdnimg.cn/99b7cfe146724e1695f86ce6d5ed198d.png)

## P111-120ï¼š

### - P111 - gettersé…ç½®é¡¹

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰stateå’Œgettersçš„å…³ç³»å°±åƒdataå’Œcomputedçš„å…³ç³»ã€‚

ï¼ˆ2ï¼‰ä¸æ˜¯è¯´æ•°æ®å¤„ç†å¿…é¡»è¦ç”¨è¿™ä¸ªï¼Œåœ¨æ•°æ®å¤„ç†é€»è¾‘å¤æ‚ï¼Œä¸”éœ€è¦å¤ç”¨çš„æƒ…å†µä¸‹æ¨èä½¿ç”¨ã€‚

**è€å¸ˆæ€»ç»“ï¼š**

1.æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥ã€‚

2.åœ¨store.jsä¸­è¿½åŠ gettersé…ç½®ï¼š

```pf
......
const getters = {
    bigSum(state){
        return state.sum*10
    }
}
......
// åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
    actions,mutations,state,getters
})
```

3.ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š$store.getters.bigSum

### - P112 - mapStateå’ŒmapGetters

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰ES6ä¸­çš„ ... ä¸ºæ‰©å±•è¿ç®—ç¬¦ï¼Œèƒ½å°† [ æ•°ç»„ ] æˆ–å¯¹è±¡è½¬æ¢ä¸ºé€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚

**è€å¸ˆæ€»ç»“ï¼š**

å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨ï¼ˆå‰ä¸¤ä¸ªï¼‰ï¼š

1.mapStateæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„stateä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§

```reasonml
computed:{    
    // å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰
    ...mapState({sum:'sum',school:'school',subject:'subject'}),
    
    // å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰
    ...mapState(['sum','school','subject']),
},
```

2.mapGettersæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„gettersä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§

```reasonml
computed:{    
    // å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰
    ...mapGetters({bigSum:'bigSum'}),
    
    // å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰
    ...mapGetters(['bigSum'])
},
```

ï¼ˆä»£ç åœ¨P116ï¼‰

### - P113 - mapActionsä¸mapMutations

**è€å¸ˆæ€»ç»“ï¼š**

å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨ï¼ˆåä¸¤ä¸ªï¼‰ï¼š

3.mapActionsæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸actionså¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.dispatch(xxx)çš„å‡½æ•°ã€‚

```reasonml
methodsï¼š{ 
    // å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆå¯¹è±¡å†™æ³•ï¼‰
    ...mapActions({incrementOdd:'jiaOdd',incrementWait:'jiaWait'}),
 
    // å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆæ•°ç»„å†™æ³•ï¼‰
    ...mapActions(['jiaOdd','jiaWait']),
}   
```

4.mapMutationsæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸mutationså¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.commit(xxx)çš„å‡½æ•°ã€‚

```stylus
methodsï¼š{ 
    // å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆå¯¹è±¡å†™æ³•ï¼‰
    ...mapMutations({increment:'JIA',decrement:'JIAN'}),
 
    // å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆæ•°ç»„å†™æ³•ï¼‰
    ...mapMutations(['JIA','JIAN']),
}   
```

å¤‡æ³¨ï¼šmapActionsä¸mapMutationsä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°ï¼Œéœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚

ï¼ˆä»£ç åœ¨P116ï¼‰

### - P114 - å¤šç»„ä»¶å…±äº«æ•°æ®

æ— 

ï¼ˆä»£ç åœ¨P116ï¼‰

### - P115 - vuexæ¨¡å—åŒ–+namespace_1

æ— 

ï¼ˆä»£ç åœ¨P116ï¼‰

### - P116 - vuexæ¨¡å—åŒ–+namespace_2

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰è€å¸ˆçš„å°è¯­å½•é“¾æ¥ï¼š

> https://api.uixsj.cn/hitokoto/get?type=social

**è€å¸ˆæ€»ç»“ï¼š**

æ¨¡å—åŒ–+å‘½åç©ºé—´

1.ç›®çš„ï¼šè®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ææ›´åŠ æ˜ç¡®ã€‚

2.ä¿®æ”¹store.js

```nim
const countAbout = {
    namespaced:true,//å¼€å¯å‘½åç©ºé—´
    state:{x:1},
    mutations:{......},
    actions:{......},
    getters:{
        bigSum(state){
            return state.sum*10
        }
    }
}
 
const personAbout = {
    namespaced:true,//å¼€å¯å‘½åç©ºé—´
    state:{......},
    mutations:{......},
    actions:{......}
}
 
const store = new Vuex.Store({
    modules:{
        countAbout,
        personAbout
    }
    
})
```

3.å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š

```stylus
//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
this.$store.state.personAbout.list
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–
...mapState('countAbout',['sum','school','subject']),
```

4.å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–gettersæ•°æ®ï¼š

```stylus
//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
this.$store.getters['personAbout/firstPersonName']
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–
...mapGetters('countAbout',['bigSum'])
```

5.å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatchï¼š

```awk
//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
this.$store.dispatch('personAbout/addPersonWang',personObj)
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–
...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}),
```

6.å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨commitï¼š

```awk
//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
this.$store.commit('personAbout/ADD_PERSON',personObj)
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–
...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),
```

æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼ˆæ±‚å’Œæ¡ˆä¾‹_vuexå‡çº§ç‰ˆï¼‰ï¼š

store/index.jsé¡µé¢ï¼š

```javascript
// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store
// å¼•å…¥Vue
import Vue from 'vue'
// å¼•å…¥Vuex
import Vuex from 'vuex'
import countOptions from './count'
import personOptions from './person'
// åº”ç”¨Vuexæ’ä»¶
Vue.use(Vuex)
 
// åˆ›å»ºå¹¶æš´éœ²store
export default new Vuex.Store({
    modules:{
        countAbout:countOptions,
        personAbout:personOptions
    }
    
})
```

store/count.jsé¡µé¢:

```pf
// æ±‚å’Œç›¸å…³çš„é…ç½®
export default {
    namespaced:true,
    actions:{
        jiaOdd(context,value){
            if(context.state.sum % 2){
                context.commit('JIA',value)
            }
        },
        jiaWait(context,value){
            setTimeout(() =>{
                context.commit('JIA',value)
            },500)
        },
    },
    mutations:{
        JIA(state,value){
            // console.log('mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†',state,value)
            state.sum += value
        },
        JIAN(state,value){
            // console.log('mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†',state,value)
            state.sum -= value
        },
    },
    state:{
        sum:0, //å½“å‰çš„å’Œ
        school:'å°šç¡…è°·',
        subject:'å‰ç«¯',
    },
    getters:{
        bigSum(state){
            return state.sum*10
        }
    },
}
 
```

store/person.jsé¡µé¢ï¼š

```pf
import axios from "axios"
import { nanoid } from "nanoid"
 
// äººå‘˜ç®¡ç†ç›¸å…³çš„é…ç½®
export default {
    namespaced:true,
    actions:{
        addPersonWang(context,value){
            if(value.name.indexOf('ç‹') === 0){
                context.commit('ADD_PERSON',value)
            }else{
                alert('æ·»åŠ çš„äººå¿…é¡»å§“ç‹')
            }
        },
        addPersonServer(context){
           axios.get('https://api.uixsj.cn/hitokoto/get?type=social').then(
               response => {
                    context.commit('ADD_PERSON',{id:nanoid(),name:response.data})
               },
               error => {
                   alert(error.message)
               }
           ) 
        }
    },
    mutations:{
        ADD_PERSON(state,value){
            state.personList.unshift(value)
        }
    },
    state:{
        personList:[
            {id:'001',name:'å¼ ä¸‰'}
        ]
    },
    getters:{
        firstPersonName(state){
            return state.personList[0].name
        }
    },
}
```

Count.vueé¡µé¢ï¼š

```handlebars
<template>
    <div>
        <h1>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h1>
        <h3>å½“å‰æ±‚å’Œæ”¾å¤§10å€ä¸ºï¼š{{bigSum}}</h3>
        <h3>æˆ‘åœ¨{{school}},å­¦ä¹ {{subject}}</h3>
        <h3 style="color:red;">Personç»„ä»¶çš„æ€»äººæ•°æ˜¯ï¼š{{personList.length}}</h3>
        <select v-model.number="n">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
        <button @click="increment(n)">+</button>
        <button @click="decrement(n)">-</button>
        <button @click="incrementOdd(n)">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
        <button @click="incrementWait(n)">ç­‰ä¸€ç­‰å†åŠ </button>
    </div>
</template>
 
<script>
import {mapGetters, mapState,mapActions,mapMutations} from 'vuex'
export default {
    name:'Count',
    data() {
        return {
            n:1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—
            
        }
    },
    computed:{
        // å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰
        ...mapState('countAbout',['sum','school','subject']),
        ...mapState('personAbout',['personList']),
        // å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰
        ...mapGetters('countAbout',['bigSum'])
 
    },
    methods: {
        // å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆå¯¹è±¡å†™æ³•ï¼‰
        ...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),
        // å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»ç»ƒä¹ mutationsï¼ˆå¯¹è±¡å†™æ³•ï¼‰
        ...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}),
 
    }
}
</script>
 
<style scoped>
button{
    margin-left: 5px;
}
 
</style>
```

Person.vueé¡µé¢ï¼š

```handlebars
<template>
  <div>
      <h1>äººå‘˜åˆ—è¡¨</h1>
      <h3 style="color:red;">Countç»„ä»¶æ±‚å’Œä¸º:{{sum}}</h3>
      <h3>åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªäººçš„åå­—æ˜¯ï¼š{{firstPersonName}}</h3>
      <input type="text" placeholder="è¯·è¾“å…¥åå­—" v-model="name"/>
      <button @click="add">æ·»åŠ </button>
      <button @click="addWang">æ·»åŠ ä¸€ä¸ªå§“ç‹çš„äºº</button>
      <button @click="addPersonServer">æ·»åŠ ä¸€ä¸ªäººï¼Œåå­—éšæœº</button>
      <ul>
          <li v-for="p in personList" :key="p.id">{{p.name}}</li>
      </ul>
  </div>
</template>
 
<script>
import {nanoid} from 'nanoid'
export default {
    name:'Person',
    data() {
        return {
            name:''
        }
    },
    computed:{
        personList(){
            return this.$store.state.personAbout.personList
        },
        sum(){
            return this.$store.state.countAbout.sum
        },
        firstPersonName(){
            return this.$store.getters['personAbout/firstPersonName']
        }
    },
    methods: {
        add(){
            const personObj = {id:nanoid(),name:this.name}
            this.$store.commit('personAbout/ADD_PERSON',personObj)
            // console.log(personObj)
            this.name = ''
        },
        addWang(){
            const personObj = {id:nanoid(),name:this.name}
            this.$store.dispatch('personAbout/addPersonWang',personObj)
            this.name = ''
 
        },
        addPersonServer(){
            this.$store.dispatch('personAbout/addPersonServer')
        }
    },
}
</script>
 
<style>
 
</style>
```

### - P117 - è·¯ç”±çš„ç®€ä»‹

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰è€å¸ˆè¯¾ä»¶æˆªå›¾ï¼š

![img](https://img-blog.csdnimg.cn/4b2d6f9a374f4297a9494d6b62edc17c.png)

![img](https://img-blog.csdnimg.cn/63c5ec5b9067499da126f4c69503eea8.png)

![img](https://img-blog.csdnimg.cn/174fd8ffe678406097953f3ca1d97b36.png)

**è€å¸ˆæ€»ç»“ï¼š**

1.vue-routerçš„ç†è§£ï¼š

vueçš„ä¸€ä¸ªæ’ä»¶åº“ï¼Œä¸“é—¨ç”¨æ¥å®ç°SPAåº”ç”¨ã€‚

2.å¯¹SPAåº”ç”¨çš„ç†è§£ï¼š

ï¼ˆ1ï¼‰å•é¡µWebåº”ç”¨ï¼ˆsingle page web application, SPAï¼‰ã€‚

ï¼ˆ2ï¼‰æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚

ï¼ˆ3ï¼‰ ç‚¹å‡»é¡µé¢ä¸­çš„å¯¼èˆªé“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œåªä¼šåšé¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚

ï¼ˆ4ï¼‰æ•°æ®éœ€è¦é€šè¿‡ ajax è¯·æ±‚è·å–ã€‚

3.è·¯ç”±çš„ç†è§£ï¼š

ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ

â‘  ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰

â‘¡ key ä¸ºè·¯å¾„, value å¯èƒ½æ˜¯ function æˆ– componen

ï¼ˆ2ï¼‰è·¯ç”±åˆ†ç±»

â‘  åç«¯è·¯ç”±ï¼š

1ï¼‰ç†è§£ï¼švalue æ˜¯ function, ç”¨äºå¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ã€‚

2ï¼‰å·¥ä½œè¿‡ç¨‹ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶, æ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚, è¿”å›å“åº”æ•°æ®ã€‚

â‘¡ å‰ç«¯è·¯ç”±ï¼š

1ï¼‰ç†è§£ï¼švalue æ˜¯ componentï¼Œç”¨äºå±•ç¤ºé¡µé¢å†…å®¹ã€‚

2ï¼‰å·¥ä½œè¿‡ç¨‹ï¼šå½“æµè§ˆå™¨çš„è·¯å¾„æ”¹å˜æ—¶, å¯¹åº”çš„ç»„ä»¶å°±ä¼šæ˜¾ç¤ºã€‚

ï¼ˆimportantï¼ä»è¿™èŠ‚å¼€å§‹ï¼Œè·¯ç”±ç³»åˆ—ä¸€èˆ¬ä¸è´´ä»£ç ï¼Œè€å¸ˆçš„ç¬”è®°é‡Œåšæ³•éƒ¨åˆ†çš„ä»£ç å†™çš„å¾ˆå…¨ï¼Œå†è´´ä»£ç å°±æœ‰ç‚¹å†—ä½™äº†ï¼‰

### - P118 - è·¯ç”±åŸºæœ¬ä½¿ç”¨

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰Vuexå®‰è£…æŒ‡ä»¤ï¼šnpm i vue-router@3

ï¼ˆå¦‚æœç›´æ¥npm i vue-routerï¼Œé‚£ä¹ˆå®‰è£…çš„æ˜¯vue-router4ï¼Œåªèƒ½åœ¨Vue3ä¸­ä½¿ç”¨ï¼‰

ï¼ˆ2ï¼‰router-linkæ ‡ç­¾æœ€ç»ˆè½¬æ¢åˆ°é¡µé¢ä¸Šå°±æ˜¯aæ ‡ç­¾ã€‚

**è€å¸ˆæ€»ç»“ï¼š**

è·¯ç”±

ç†è§£ï¼šä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚

å‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶ã€‚

1.åŸºæœ¬ä½¿ç”¨ï¼š

ï¼ˆ1ï¼‰å®‰è£…vue-routerï¼Œå‘½ä»¤ï¼šnpm i vue-router

ï¼ˆ2ï¼‰åº”ç”¨æ’ä»¶ï¼šVue.use(VueRouter)

ï¼ˆ3ï¼‰ç¼–å†™routeré…ç½®é¡¹ï¼š

```javascript
// å¼•å…¥VueRouter
import VueRouter from "vue-router";
// å¼•å…¥è·¯ç”±ç»„ä»¶
import About from '../components/About'
import Home from '../components/Home'
 
// åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™
const router = new VueRouter({
    routes:[
        {
            path:'/about',
            component:About
        },
        {
            path:'/home',
            component:Home
        }
    ]
})
// æš´éœ²router
expot default router
```

ï¼ˆ4ï¼‰å®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰

```routeros
<router-link active-class="active" to="/about">About</router-link>
```

ï¼ˆ5ï¼‰æŒ‡å®šå±•ç¤ºä½ç½®

```apache
<router-view></router-view>
```

### - P119 - å‡ ä¸ªæ³¨æ„ç‚¹

**è€å¸ˆæ€»ç»“ï¼š**

2.å‡ ä¸ªæ³¨æ„ç‚¹

ï¼ˆ1ï¼‰è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨pagesæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹ã€‚

ï¼ˆ2ï¼‰é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚

ï¼ˆ3ï¼‰æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„$routeå±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚

ï¼ˆ4ï¼‰æ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªrouterï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„$routerå±æ€§è·å–åˆ°ã€‚

### - P120 - åµŒå¥—è·¯ç”±

**è€å¸ˆæ€»ç»“ï¼š**

3.å¤šçº§è·¯ç”±

ï¼ˆ1ï¼‰é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š

```xl
routes:[
    {
        path:'/about',
        component:About
    },
    {
        path:'/home',
        component:Home,
        children:[ //é€šè¿‡childrené…ç½®å­çº§è·¯ç”±
            {
                path:'news', //æ­¤å¤„ä¸€å®šä¸è¦å†™â€˜/newsâ€™
                component:News,
            },
            {
                path:'message', //æ­¤å¤„ä¸€å®šä¸è¦å†™â€˜/messageâ€™
                component:Message,
            }
        ]
    }
]
```

ï¼ˆ2ï¼‰è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š

```xml
<router-link to="/home/news">News</router-link>
```

## P121-130ï¼š

### - P121 - è·¯ç”±çš„queryå‚æ•°

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆè€å¸ˆå†™äº†ï¼Œä½†æ˜¯è§†é¢‘æ²¡æ”¾å‡ºæ¥ï¼Œä¹Ÿæ²¡æ‰¾åˆ°è¿™ä¸ªè¯¾ä»¶ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±æ€»ç»“äº†ä¸€ä¸‹ï¼‰

è·¯ç”±çš„queryå‚æ•°

ï¼ˆ1ï¼‰ä½œç”¨ï¼šè·³è½¬çš„æ—¶å€™ä¼ é€’å‚æ•°

ï¼ˆ2ï¼‰å¦‚ä½•ä½¿ç”¨ï¼š

â‘ è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œæœ‰ä¸¤ç§å†™æ³•ï¼š

```handlebars
<!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• -->
<router-link :to="`/home/message/detail?id=${m.id}&title=${m.title}`">{{m.title}}</router-link>
 
<!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• -->
<router-link :to="{
    path:'/home/message/detail',
    query:{
        id:m.id,
        title:m.title
    }
}">
    {{m.title}}
</router-link>
```

â‘¡ç”¨$route.queryæ¥æ”¶å‚æ•°ï¼š

```handlebars
<li>æ¶ˆæ¯ç¼–å·ï¼š{{$route.query.id}}</li>
<li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{$route.query.title}}</li>
```

### - P122 - å‘½åè·¯ç”±

**è€å¸ˆæ€»ç»“ï¼š**

5.å‘½åè·¯ç”±

ï¼ˆ1ï¼‰ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬ã€‚

ï¼ˆ2ï¼‰å¦‚ä½•ä½¿ç”¨ï¼š

â‘ ç»™è·¯ç”±å‘½åï¼š

```pgsql
{
    path:'/demo',
    component:Demo,
    children:[
        {
            path:'test',
            component:Test,
            children:[
                {
                    name:'hello',
                    path:'detail',
                    component:Detail,
                }
            ]
        }
    ]
}
```

â‘¡ç®€åŒ–è·³è½¬ï¼š

```dust
<!-- ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ -->
<router-link to="demo/test/welcome">è·³è½¬</router-link>
 
<!-- ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬ -->
<router-link :to="{name:'hello'}">è·³è½¬</router-link>
 
<!-- ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•° -->
<router-link :to="{
        name:'hello'ï¼Œ
        query:{
            id:666,
            title:'ä½ å¥½'        
        }
    }"
>è·³è½¬</router-link>
```

### - P123 - è·¯ç”±çš„paramså‚æ•°

**è€å¸ˆæ€»ç»“ï¼š**

6.è·¯ç”±çš„paramså‚æ•°

ï¼ˆ1ï¼‰é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶paramså‚æ•°

```xl
{
    path:'/home',
    component:Home,
    children:[
        {
            path:'news',
            component:News,
        },
        {
            path:'message',
            component:Message,
            children:[
                {
                    name:'xiangqing',
                    path:'detail/:id/:title', //ä½¿ç”¨å ä½ç¬¦å£°æ˜æ¥æ”¶paramså‚æ•°
                    component:Detail,
                }
            ]
        }
    ]
}
```

ï¼ˆ2ï¼‰ä¼ é€’å‚æ•°

```handlebars
<!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• -->
<router-link :to="`/home/message/detail/666/ä½ å¥½`">{{m.title}}</router-link>
 
<!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• -->
<router-link :to="{
    name:'xiangqing',
    params:{
        id:666,
        title:'ä½ å¥½'
    }
}">
    {{m.title}}
</router-link>
```

ç‰¹åˆ«æ³¨æ„ï¼šè·¯ç”±æºå¸¦paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨pathé…ç½®é¡¹ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®ï¼

ï¼ˆ3ï¼‰æ¥æ”¶å‚æ•°

```stylus
$route.params.id
$route.params.title
```

### - P124 - è·¯ç”±çš„propsé…ç½®

**è€å¸ˆæ€»ç»“ï¼š**

7.è·¯ç”±çš„propsé…ç½®

ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°

```awk
{
    name:'xiangqing',
    path:'detail',
    component:Detail,
 
    // propsçš„ç¬¬ä¸€ç§å†™æ³•ï¼Œå€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­çš„æ‰€æœ‰key-valueéƒ½ä¼šä»¥propsçš„å½¢å¼ä¼ ç»™Detailç»„ä»¶
    // props:{a:1,b:'hello'}
 
    // propsçš„ç¬¬äºŒç§å†™æ³•ï¼Œå€¼ä¸ºå¸ƒå°”å€¼ï¼Œè‹¥å¸ƒå°”å€¼ä¸ºçœŸï¼Œå°±ä¼šæŠŠè¯¥è·¯ç”±ç»„ä»¶æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°ï¼Œä»¥propsçš„å½¢å¼ä¼ ç»™Detailç»„ä»¶
    // props:true
 
    // propsçš„ç¬¬ä¸‰ç§å†™æ³•ï¼Œå€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶
    props({$route}){
        return {
            id:$route.query.id,
            title:$route.query.title
        }
    }
}
```

### - P125 - router-linkçš„replaceå±æ€§

**è€å¸ˆæ€»ç»“ï¼š**

\8. router-linkçš„replaceå±æ€§

ï¼ˆ1ï¼‰ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼

ï¼ˆ2ï¼‰æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºpushå’Œreplaceï¼Œpushæ˜¯è¿½åŠ å†å²è®°å½•ï¼Œreplaceæ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸ºpushã€‚

ï¼ˆ3ï¼‰å¦‚ä½•å¼€å¯replaceæ¨¡å¼ï¼š

```sas
<router-link replace ...... >News</router-link>
```

### - P126 - ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª

**è€å¸ˆæ€»ç»“ï¼š**

9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª

ï¼ˆ1ï¼‰ä½œç”¨ï¼šä¸å€ŸåŠ©router-linkå®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»

ï¼ˆ2ï¼‰å…·ä½“ç¼–ç ï¼š

```php
//$routereçš„ä¸¤ä¸ªAPI
this.$router.push({
    name:'xiangqing',
    params:{
        id:xxx,
        title:xxx    
    }
})
 
this.$router.replace({
    name:'xiangqing',
    params:{
        id:xxx,
        title:xxx    
    }
})
 
this.$router.forward() //å‰è¿›
this.$router.back() //åé€€
this.$router.go(3) //å¯å‰è¿›ä¹Ÿå¯åé€€
```

### - P127 - ç¼“å­˜è·¯ç”±ç»„ä»¶

**è€å¸ˆæ€»ç»“ï¼š**

10.ç¼“å­˜è·¯ç”±ç»„ä»¶

ï¼ˆ1ï¼‰ä½œç”¨ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯ã€‚

ï¼ˆ2ï¼‰å…·ä½“ç¼–ç ï¼š

```xml
<!-- ç¼“å­˜å¤šä¸ªè·¯ç”±ç»„ä»¶ -->
<keep-alive :include="['News','Message']">
    <router-view></router-view>
</keep-alive>
 
<!-- ç¼“å­˜ä¸€ä¸ªè·¯ç”±ç»„ä»¶ -->
<keep-alive include="News">
    <router-view></router-view>
</keep-alive>
```

### - P128 - ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰$nextTickï¼ˆçœŸå®DOMå‡ºæ¥ä¹‹åå†å›è°ƒï¼Œå›é¡¾P90ï¼‰å’Œactivatedã€deactivatedæ˜¯ç”Ÿå‘½å‘¨æœŸä¸­ä¸åœ¨å›¾ä¸­çš„å‰©ä¸‹ä¸‰ä¸ªã€‚

**è€å¸ˆæ€»ç»“ï¼š**

11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­

ï¼ˆ1ï¼‰ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚

ï¼ˆ2ï¼‰å…·ä½“åå­—ï¼š

â‘  activated è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘ã€‚

â‘¡ deactivated è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚

### - P129 - å…¨å±€å‰ç½®_è·¯ç”±å®ˆå«

æ— ï¼ˆè€å¸ˆæ€»ç»“å’ŒP130æ•´åˆåœ¨ä¸€èµ·ï¼‰

### - P130 - å…¨å±€åç½®_è·¯ç”±å®ˆå«

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰$routeä¸­çš„metaï¼šè·¯ç”±å…ƒä¿¡æ¯ã€‚

**è€å¸ˆæ€»ç»“ï¼š**

12.è·¯ç”±å®ˆå«

ï¼ˆ1ï¼‰ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶

ï¼ˆ2ï¼‰åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«

ï¼ˆ3ï¼‰å…¨å±€å®ˆå«ï¼š

```stylus
// å…¨å±€å‰ç½®è·¯ç”±å®ˆå«â€”â€”åˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰è¢«è°ƒç”¨
router.beforeEach((to,from,next) => {
    console.log('beforeEach',to,from)
    if(to.meta.isAuth){ //åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶
        if(localStorage.getItem('school')==='atguigu'){ //æƒé™æ§åˆ¶çš„å…·ä½“è§„åˆ™
            next() //æ”¾è¡Œ
        }else{
            alert('æš‚æ— æƒé™æŸ¥çœ‹')
            // next({name:'guanyu'})
        }
    }else{
        next() //æ”¾è¡Œ
    }
})
 
// å…¨å±€åç½®è·¯ç”±å®ˆå«â€”â€”åˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨
router.afterEach((to,from) => {
    console.log('afterEach',to,from)
    if(to.meta.title){
        document.title = to.meta.title //ä¿®æ”¹ç½‘é¡µçš„title                
    }else{
        document.title = 'vue_test'   
    }
    
})
```

## P131-135ï¼š

### - P131 - ç‹¬äº«è·¯ç”±å®ˆå«

**è€å¸ˆæ€»ç»“ï¼š**

ï¼ˆ4ï¼‰ç‹¬äº«å®ˆå«ï¼š

```stylus
beforeEnter:(to, from, next) => {
    console.log('beforeEnter',to, from)
    if(to.meta.isAuth){ //åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶
        if(localStorage.getItem('school')==='atguigu'){
            next()
        }else{
            alert('å­¦æ ¡åä¸å¯¹ï¼Œæ²¡æœ‰æŸ¥çœ‹æƒé™ï¼')
        }
    }else{
        next()
    }
}
```

### - P132 - ç»„ä»¶å†…è·¯ç”±å®ˆå«

**è€å¸ˆæ€»ç»“ï¼š**

ï¼ˆ5ï¼‰ç»„ä»¶å†…å®ˆå«ï¼š

```awk
// è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
beforeRouteEnter (to, from, next){
},
// ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
beforeRouteLeave (to, from, next){
},
```

### - P133 - historyæ¨¡å¼ä¸hashæ¨¡å¼

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰å“ˆå¸Œå€¼ï¼ˆå¦‚ http://localhost:8080/#/home/message ä¸­çš„ #/home/message å°±æ˜¯å“ˆå¸Œå€¼ï¼‰æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œä¸ä¼šéšç€httpè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ã€‚

ï¼ˆ2ï¼‰æ‰“åŒ…æŒ‡ä»¤ï¼šnpm run build

ï¼ˆç”Ÿæˆçš„ä¸œè¥¿éœ€è¦æ”¾åˆ°æœåŠ¡å™¨ä¸­éƒ¨ç½²æ‰èƒ½ç”¨ã€‚ï¼‰

ï¼ˆ3ï¼‰è¯¾ä¸­çš„nodeJSçš„expressï¼ˆä»…äº†è§£ä¸éœ€è¦æŒæ¡ï¼‰ï¼Œå¯ä»¥çœ‹è¿™ä¸ªï¼š[NodeJSä¹‹ExpressåŸºç¡€_ä¸èµ·çœ¼çš„çš®çš®è™¾çš„åšå®¢-CSDNåšå®¢_express nodejs](https://blog.csdn.net/qq_36801250/article/details/106287732)

ï¼ˆ4ï¼‰ä¸­é—´ä»¶ connect-history-api-fallback

å®‰è£…æŒ‡ä»¤ï¼šnpm i connect-history-api-fallback

åç«¯å¼•å…¥ï¼ˆå¿…é¡»å¾—åœ¨é™æ€èµ„æºå‰å¼•å…¥ï¼‰è°ƒç”¨ï¼š

```isbl
const history = require('npm i connect-history-api-fallback');
......
app.use(history())
```

ï¼ˆ5ï¼‰nginxä¹Ÿå¯ä»¥å®ç°ï¼Œèµ·åˆ°ä¸­é—´ä»£ç†ä½œç”¨ï¼ˆä»…äº†è§£ï¼‰ã€‚

**è€å¸ˆæ€»ç»“ï¼š**

13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼

ï¼ˆ1ï¼‰å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€”#åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼ã€‚

ï¼ˆ2ï¼‰hashå€¼ä¸ä¼šåŒ…å«åœ¨HTTPè¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨ã€‚

ï¼ˆ3ï¼‰hashæ¨¡å¼ï¼š

â‘ åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚ã€‚

â‘¡è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚

â‘¢å…¼å®¹æ€§è¾ƒå¥½ã€‚

ï¼ˆ4ï¼‰historyæ¨¡å¼ï¼š

â‘ åœ°å€å¹²å‡€ï¼Œç¾è§‚ã€‚

â‘¡å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®ã€‚

â‘¢åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404çš„é—®é¢˜ã€‚

### - P134 - element-uiåŸºæœ¬ä½¿ç”¨

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰å®‰è£…æŒ‡ä»¤ï¼šnpm i element-ui -S

**è€å¸ˆæ€»ç»“ï¼š**

Vue UIç»„ä»¶åº“

1.ç§»åŠ¨ç«¯å¸¸ç”¨ UI ç»„ä»¶åº“

ï¼ˆ1ï¼‰Vant[Vant 3 - Mobile UI Components built on Vue](https://youzan.github.io/vant)

ï¼ˆ2ï¼‰Cube UI[cube-ui Document](https://didi.github.io/cube-ui)

ï¼ˆ3ï¼‰Mint UI[Mint UI](http://mint-ui.github.io/)

2.PC ç«¯å¸¸ç”¨ UI ç»„ä»¶åº“

ï¼ˆ1ï¼‰Element UI[Element - The world's most popular Vue UI framework](https://element.eleme.cn/)

ï¼ˆ2ï¼‰IView UI[iView / View Design ä¸€å¥—ä¼ä¸šçº§ UI ç»„ä»¶åº“å’Œå‰ç«¯è§£å†³æ–¹æ¡ˆ](https://www.iviewui.com/)

æœ¬èŠ‚éƒ¨åˆ†ä»£ç ï¼š

main.jsé¡µé¢ï¼š

```javascript
// å¼•å…¥Vue
import Vue from 'vue'
// å¼•å…¥App
import App from './App.vue'
 
// å®Œæ•´å¼•å…¥
// å¼•å…¥ElementUIç»„ä»¶åº“
import ElementUI from 'element-ui'
// å¼•å…¥ElementUIå…¨éƒ¨æ ·å¼
import 'element-ui/lib/theme-chalk/index.css'
// å…³é—­Vueçš„ç”Ÿäº§æç¤º
Vue.config.productionTip = false
// åº”ç”¨ElementUI
Vue.use(ElementUI)
 
// åˆ›å»ºvm
new Vue({
    el:'#app',
    render: h => h(App),
})
```

### - P135 - element-uiæŒ‰éœ€å¼•å…¥

**è¯¾å ‚ç¬”è®°ï¼š**

ï¼ˆ1ï¼‰æŒ‰éœ€å¼•å…¥æŒ‡ä»¤ï¼šnpm install babel-plugin-component -D

ï¼ˆnpm xxx -D ä»£è¡¨ç€å®‰è£…å¼€å‘ä¾èµ–ã€‚ï¼‰

ï¼ˆ2ï¼‰æŠ¥é”™è§£å†³ï¼š

å¦‚æœæŠ¥ not found â€™xxx' çš„é”™ï¼Œé‚£å°±åœ¨æŒ‡ä»¤ä¸­è¾“å…¥ï¼š npm i xxx

å¦‚æœæ˜¯è·Ÿè€å¸ˆä¸€æ ·çš„é—®é¢˜ï¼Œé‚£éœ€è¦åœ¨babel.config.jsé¡µé¢çš„presetsé…ç½®é¡¹ä¸­ï¼Œå°†åŸå…ˆçš„ es2015 ä¿®æ”¹æˆ @babel/preset-env

~ â€âœ¿ ~ **Vue2.0 å®Œ ç»“ æ’’ èŠ±** ~ âœ¿ â€ ~